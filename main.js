!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=0)}([function(t,e,n){n(4),t.exports=n(3)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var i=["ğŸ‹","ğŸŠ","ğŸ‰","ğŸˆ","ğŸ‡","ğŸ¥","ğŸ“","ğŸ’","ğŸŒŸ","ğŸ€","ğŸ’","ğŸ°"],o=[i,["ğŸ§£","â›„","ğŸ„","ğŸ","ğŸ€","ğŸ¾","ğŸ·","ğŸ””","ğŸŒŸ","ğŸ¦Œ","ğŸ…"],["ğŸŒš","ğŸƒ","ğŸ¦‡","ğŸ˜ˆ","ğŸ§ ","ğŸ‘¹","ğŸ‘½","ğŸ¤¡","ğŸ‘»","ğŸ§Ÿâ€","ğŸ§›â€","ğŸ’€"],["ğŸ","ğŸŸ","ğŸ­","ğŸ¸","ğŸ“","ğŸ·","ğŸ¦€","ğŸ","ğŸ¦Šâ€","ğŸ¦","ğŸ¦•","ğŸ¦–"],["ğŸ¯","ğŸ±","ğŸ","â›³","âš¾","ğŸˆ","ğŸ€","âš½","ğŸ¥‰","ğŸ¥ˆ","ğŸ¥‡","ğŸ†"],["ğŸ’Œ","ğŸ","ğŸ“¸","ğŸ’˜","ğŸ’‹","ğŸ”","ğŸ’‘","ğŸ’","ğŸ’","ğŸ’–"],["ğŸ´","ğŸ²","ğŸ•¶","ğŸ¥ƒ","ğŸ’·","ğŸ’´","ğŸ’µ","ğŸ’°","ğŸ€","ğŸ’","ğŸ°","ğŸ§â€ï¸","ğŸƒ"],["ğŸ¥¦","ğŸ‹","ğŸ†","ğŸ™","ğŸ¯","ğŸ‘","ğŸ“","ğŸ­","ğŸ«","ğŸ©","ğŸ•","ğŸ—","ğŸ¥©","ğŸ£"]],r=o[Math.random()*o.length|0],a=null;function s(t,e,n,i,o){var r=[e,n-.25*i,n+.125*i,n-.0625*i,n+.03125*i,n-.015625*i,n],s=e,l=0,c=r.map(function(t){var e=Math.max(Math.abs(t-s)/Math.abs(o),10);return s=t,l+=e,e}),u=0;return function(t,e){a||((a=document.createElement("style")).type="text/css",document.head.appendChild(a)),a.sheet.insertRule("@keyframes ".concat(t," {\n        ").concat(e,"\n    }"),a.length)}(t,c.map(function(t){var e=u+t/l*100;return u=e,e}).map(function(t,e){return"".concat(Math.round(t),"% { transform: rotate(").concat(r[e].toFixed(2),"deg); }")}).join("\n")),l}var l=/iPad|iPhone|iPod/.test(navigator.platform||""),c=navigator.userAgent.toLowerCase().includes("firefox");function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sounds=[],this.nextSound=0,this.totalSounds=0;for(var o=this.sounds,r=0;r<i;++r)o.push(new Audio(e));o[0].oncanplay=function(){n.totalSounds=i}}var e,n,i;return e=t,(n=[{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.sounds,n=this.nextSound,i=this.totalSounds,o=e[n];i&&o.paused&&(o.volume=t,o.play(),this.nextSound=(n+1)%i)}}])&&u(e.prototype,n),i&&u(e,i),t}(),p=c?"ogg":"mp3",f=new h("./assets/blip.".concat(p),32),d=new h("./assets/coin.".concat(p)),m=new h("./assets/stop.".concat(p)),v=new h("./assets/unlucky.".concat(p)),y=new h("./assets/win.".concat(p)),_=function(){f.play.apply(f,arguments)},S=function(){d.play.apply(d,arguments)},I=function(){m.play.apply(m,arguments)},E=function(){v.play.apply(v,arguments)},g=function(){y.play.apply(y,arguments)},O=window.navigator,C=O.vibrate?O.vibrate.bind(O):function(){},T=[200,50,50,50,50,25,25,25,25,25,25,25,25],b=[25,25,25,25,25,25,25,25,50,50,50,50,50],A=function(){C(b)},P=function(){C(T)},w=!1,k=null;function R(){w=!0}function N(){w=!1}function L(){w&&(k(),w=!1)}function M(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=document.createElement("DIV");return o.className=Array.isArray(t)?t.join(" "):t,"string"==typeof e?o.innerText=e:e&&o.appendChild(e),i&&(o.style=i),null!==n&&(o.style.transform="rotate(".concat(n,"deg)")),o}function j(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var x=function(){function t(e,n,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root=void 0,this.style=void 0,this.index=void 0,this.alpha=void 0,this.shadowCount=void 0,this.angle=0,this.stopAt=0,this.index=e,this.alpha=n;var r=t.C_REEL,a=t.C_CELL,s=t.C_CELL_SHADOW,l=t.C_CELL_BLUR,u=t.C_FIGURE,h=t.C_IS_STOP,p=t.V_INDEX,f=this.root=M([r,h]);if((this.style=f.style).setProperty(p,e),i){var d,m;c?(d=[a,s],m=.5):(d=[a,s,l],m=1);var v=this.shadowCount=Math.max(2,Math.round((o-.5-2*e)*Math.PI/i.length)),y=1/v;!function(t){for(var e=t.length-1;e>0;--e){var n=Math.floor(Math.random()*(e+1)),i=[t[n],t[e]];t[e]=i[0],t[n]=i[1]}}(i),i.forEach(function(t,e){var i=M(u,t),o=M(a,i,e*n);f.appendChild(o);for(var r=1;r<v;++r)f.appendChild(M(d,i.cloneNode(!0),n*(e+y*r),"opacity: ".concat(m*(1-y*r),"; ")))})}}var e,n,i;return e=t,(n=[{key:"reset",value:function(){var t=this.root,e=this.style,n=this.stopAt;t.classList.remove("is-stop"),e.transform="rotate(".concat(this.angle=(360-n)%360,"deg)"),e.animation="",this.stopAt=0}},{key:"stop",value:function(e,n){var i=this.alpha,o=this.root,r=(360-this.angle-n)%360,a=Math.ceil(r/i),l=a*i,c="stop-".concat(this.index),u=s(c,(360-r)%360,(360-l)%360,i,e)*t.STOP_ANIMATION_DURATION_MULTIPLIER;return this.stopAt=l,this.style.animation="".concat(c," ").concat(u,"ms ease-out forwards"),o.classList.add(t.C_IS_STOP),(o.children[a*this.shadowCount]||o.children[0]).innerText}}])&&j(e.prototype,n),i&&j(e,i),t}();x.C_REEL="sm__reel",x.C_CELL="sm__cell",x.C_CELL_SHADOW="sm__cell--has-shadow",x.C_CELL_BLUR="sm__cell--has-blur",x.C_FIGURE="sm__figure",x.C_IS_STOP="is-stop",x.V_INDEX="--index",x.STOP_ANIMATION_DURATION_MULTIPLIER=5;n(1);function D(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var U=function(){function t(e,n,o){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-.8;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wrapper=void 0,this.root=document.querySelector(t.S_BASE),this.reelsContainer=document.querySelector(t.S_REELS_CONTAINER),this.display=document.querySelector(t.S_DISPLAY),this.reels=[],this.blipFading=void 0,this.reelCount=void 0,this.symbols=void 0,this.alpha=void 0,this.speed=void 0,this.zoomTransitionTimeoutID=null,this.currentCombination=[],this.currentPrize=null,this.currentReel=null,this.blipCounter=0,this.lastUpdate=0,this.init(e,n,o,a,s,c),window.onresize=this.handleResize.bind(this),document.onkeydown=this.handleKeyDown.bind(this),r=this.handleClick.bind(this),k=r,l?(document.ontouchstart=R,document.ontouchmove=N,document.ontouchcancel=N,document.ontouchend=L):document.onclick=r}var e,n,o;return e=t,(n=[{key:"init",value:function(e,n,i,o,r,a){this.wrapper=e,this.handleUseCoin=n,this.handleGetPrice=i,this.reelCount=o,this.symbols=r,this.speed=a,this.blipFading=1/o;var s=this.alpha=360/r.length,l=D(r),u=2*o+t.UNITS_CENTER;this.resize(),c&&this.root.style.setProperty(t.V_SHADOW_WEIGHT,t.FIREFOX_SHADOW_WEIGHT);for(var h=this.reelsContainer,p=this.reels,f=0;f<o;++f){var d=new x(f,s,l,u);h.appendChild(d.root),p.push(d)}h.appendChild(new x(o).root)}},{key:"start",value:function(){var t=this;this.handleUseCoin(),this.currentCombination=[],this.currentPrize=null,this.currentReel=0,this.zoomOut(),this.reels.forEach(function(t){return t.reset()}),a&&(a.remove(),a=null),S(),A(),this.lastUpdate=performance.now(),requestAnimationFrame(function(){return t.tick()})}},{key:"stop",value:function(){this.currentReel=null,this.zoomIn();var t=this.currentPrize;t?(g(),this.handleGetPrice.apply(this,D(t))):E()}},{key:"tick",value:function(){var e=this,n=this.reels,i=this.speed,o=this.currentReel,r=this.lastUpdate,a=performance.now(),s=(a-r)*i;if(null!==o){0===(this.blipCounter=(this.blipCounter+1)%t.BLIP_RATE)&&_(1-this.blipFading*o),this.lastUpdate=a;for(var l=n.length-1;l>=o;--l){var c=n[l],u=c.angle=(360+(c.angle+s))%360;c.style.transform="rotate(".concat(u,"deg)")}requestAnimationFrame(function(){return e.tick()})}}},{key:"zoomIn",value:function(){this.zoom()}},{key:"zoomOut",value:function(){this.zoom(!0)}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];clearTimeout(this.zoomTransitionTimeoutID);var n=this.root;n.style.transition=t.ZOOM_TRANSITION,n.classList[e?"remove":"add"](t.C_HAS_ZOOM),this.zoomTransitionTimeoutID=setTimeout(function(){n.style.transition=""},t.ZOOM_TRANSITION_DURATION)}},{key:"resize",value:function(){var e=this.wrapper,n=this.root,i=this.reelCount,o=this.display,r=n.style,a=e.offsetWidth,s=e.offsetHeight,l=Math.min(a,s)-t.APP_PADDING,c=l/(2*i+t.UNITS_TOTAL)|0;r.setProperty(t.V_WRAPPER_SIZE,"".concat(l,"px")),r.setProperty(t.V_REEL_SIZE,"".concat(c,"px")),r.setProperty(t.V_DISPLAY_SIZE,"".concat(c*i,"px")),r.setProperty(t.V_DISPLAY_ZOOM,"".concat(n.offsetWidth/o.offsetWidth))}},{key:"stopReel",value:function(t){var e=this.speed,n=(performance.now()-this.lastUpdate)*e;this.currentCombination.push(this.reels[t].stop(e,n)),this.checkPrize(),I(),P()}},{key:"checkPrize",value:function(){for(var t=this.currentReel,e=this.currentCombination,n=this.reelCount,i=this.symbols,o={},r=0,a="",s="",l=0,c=0;c<t;++c){var u=e[c],h=o[u]=a===u?o[u]+1:1;if(a=u,h>r){r=h;var p=i.indexOf(u);p>i.indexOf(s)&&(s=u,l=p+1)}}r>2&&(this.currentPrize=[l,r*(l/i.length)/n])}},{key:"handleResize",value:function(){var t=this;requestAnimationFrame(function(){return t.resize()})}},{key:"handleKeyDown",value:function(t){var e=t.key;" "!==e&&"Enter"!==e||this.handleClick()}},{key:"handleClick",value:function(){var t=this.currentReel;null===t?this.start():(++this.currentReel,this.stopReel(t),t===this.reels.length-1&&this.stop())}}])&&z(e.prototype,n),o&&z(e,o),t}();U.C_HAS_ZOOM="has-zoom",U.S_BASE=".sm__base",U.S_REELS_CONTAINER=".sm__reelsContainer",U.S_DISPLAY=".sm__display",U.V_WRAPPER_SIZE="--wrapperSize",U.V_REEL_SIZE="--reelSize",U.V_DISPLAY_SIZE="--displaySize",U.V_DISPLAY_ZOOM="--displayZoom",U.V_SHADOW_WEIGHT="--shadowWeight",U.UNITS_CENTER=3,U.UNITS_MARGIN=1,U.UNITS_TOTAL=U.UNITS_CENTER+U.UNITS_MARGIN,U.ZOOM_TRANSITION="transform ease-in-out 500ms 250ms",U.ZOOM_TRANSITION_DURATION=1e3,U.BLIP_RATE=4,U.FIREFOX_SHADOW_WEIGHT=.5,U.APP_PADDING=32;n(2);function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var W=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.coinsElement=document.querySelector(t.S_COINS),this.jackpotElement=document.querySelector(t.S_JACKPOT),this.spinsElement=document.querySelector(t.S_SPINS),this.mainElement=document.querySelector(t.S_MAIN),this.coins=parseInt(localStorage.coins,10)||100,this.jackpot=parseInt(localStorage.jackpot,10)||1e4,this.spins=parseInt(localStorage.spins,10)||0,this.lastSpin=localStorage.lastSpin||0;var e=Date.now();e-this.lastSpin>=t.ONE_DAY&&(localStorage.jackpot=this.jackpot=0|Math.max(5e3,this.jackpot-5e3+1e4*Math.random()),localStorage.lastSpin=e),new U(this.mainElement,this.handleUseCoin.bind(this),this.handleGetPrice.bind(this),5,r),this.refreshView()}var e,n,i;return e=t,(n=[{key:"handleUseCoin",value:function(){localStorage.coins=this.coins=Math.max(this.coins-1,0)||100,localStorage.jackpot=++this.jackpot,localStorage.spins=++this.spins,this.refreshView()}},{key:"handleGetPrice",value:function(t,e){var n=t+Math.round(e*this.jackpot);localStorage.jackpot=this.jackpot=Math.max(this.jackpot-n,0)||1e3,localStorage.coins=this.coins+=n,this.refreshView()}},{key:"refreshView",value:function(){this.coinsElement.innerText=this.coins,this.jackpotElement.innerText=this.jackpot,this.spinsElement.innerText=this.spins}}])&&V(e.prototype,n),i&&V(e,i),t}();W.S_COINS="#coins",W.S_JACKPOT="#jackpot",W.S_SPINS="#spins",W.S_MAIN="#main",W.ONE_DAY=864e5,new W}]);